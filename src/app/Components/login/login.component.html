<section class="w-full max-w-xl mx-auto bg-white shadow-lg rounded-xl p-8">
  <h1 class="text-center text-green-700 text-3xl font-bold mb-6">Login Now</h1>

  <form [formGroup]="loginForm" (ngSubmit)="submitForm()" class="space-y-5">

    <!--? ================= Username ================= -->
    <div>
      <label for="userName" class="block mb-1 text-sm font-medium text-gray-700">Username</label>
      <input formControlName="username" type="text" id="userName" class="w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-900 text-sm
              focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-green-600 transition">
      <!-- ? username Alert Message -->
      @if(loginForm.get('username')?.errors && loginForm.get('username')?.touched){
      <div class="flex p-4 mb-4 mt-4 text-sm text-red-800 rounded-lg bg-red-100" role="alert">
        <svg class="shrink-0 inline w-4 h-4 me-3 mt-[2px]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
          fill="currentColor" viewBox="0 0 20 20">
          <path
            d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z" />
        </svg>
        <span class="sr-only">Danger</span>
        <div>
          <span class="font-medium">Ensure that these requirements are met:</span>
          <ul class="mt-1.5 list-disc list-inside">
            @if(loginForm.get('username')?.getError('required')){
            <li>Username is required</li>
            }
            @if (loginForm.get('name')?.getError('minlength')) {
            <li>At least 3 characters</li>
            }
            @if (loginForm.get('name')?.getError('maxlength')) {
            <li>Exceeded maximum length (Up to 20 characters)</li>
            }
          </ul>
        </div>
      </div>
      }
    </div>

    <!--? ================= Password ================= -->
    <div>
      <label for="userPassword" class="block mb-1 text-sm font-medium text-gray-700">Password</label>
      <input formControlName="password" type="password" id="userPassword" class="w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-900 text-sm
              focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-green-600 transition">
      <!-- ? Password Alert Message -->

      @if(loginForm.get('password')?.errors && loginForm.get('password')?.touched){
      <div class="flex p-4 mb-4 mt-4 text-sm text-red-800 rounded-lg bg-red-100" role="alert">
        <svg class="shrink-0 inline w-4 h-4 me-3 mt-[2px]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
          fill="currentColor" viewBox="0 0 20 20">
          <path
            d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z" />
        </svg>
        <span class="sr-only">Danger</span>
        <div>
          <span class="font-medium">Ensure that these requirements are met:</span>
          <ul class="mt-1.5 list-disc list-inside">
            @if(loginForm.get('password')?.getError('required')){
            <li>Password is required</li>
            }
          </ul>
        </div>
      </div>
      }
    </div>

    <!--? ================= Submit Button ================= -->
    @if (errorMsg) {
    <p class="text-center p-4 mb-4 mt-4 text-sm text-red-800 rounded-lg bg-red-100">{{errorMsg}}</p>
    }

    @if (successMsg) {
    <p class="text-center p-4 mb-4 mt-4 text-sm text-green-800 rounded-lg bg-green-100">{{successMsg}}</p>
    }

    <button type="submit" [disabled]="isLoading"
      class="w-full bg-green-600 text-white py-2 rounded-lg font-semibold
            hover:bg-green-700 focus:ring-2 focus:ring-green-400 focus:ring-offset-1 transition disabled:bg-gray-400 disabled:cursor-default">
      Login
      @if (isLoading) {
      <i class="fa-solid fa-spinner fa-spin-pulse fa-spin-reverse"></i>
      }
    </button>
  </form>
</section>
